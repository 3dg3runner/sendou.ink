{"version":3,"sources":["../node_modules/jsdom/lib/jsdom sync","../node_modules/jsdom/node_modules/parse5/lib sync","img/plannerMaps/academy-sz.png","img/plannerMaps/arena-sz.png","img/plannerMaps/camp-sz.png","img/plannerMaps/canal-sz.png","img/plannerMaps/dome-sz.png","img/plannerMaps/fitness-sz.png","img/plannerMaps/games-sz.png","img/plannerMaps/hotel-sz.png","img/plannerMaps/institute-sz.png","img/plannerMaps/mainstage-sz.png","img/plannerMaps/mall-sz.png","img/plannerMaps/manta-sz.png","img/plannerMaps/mart-sz.png","img/plannerMaps/pavilion-sz.png","img/plannerMaps/pit-sz.png","img/plannerMaps/pit-rm.png","img/plannerMaps/port-sz.png","img/plannerMaps/pumptrack-sz.png","img/plannerMaps/reef-sz.png","img/plannerMaps/shipyard-sz.png","img/plannerMaps/skatepark-sz.png","img/plannerMaps/towers-sz.png","img/plannerMaps/warehouse-sz.png","img/plannerMaps/world-sz.png","components/Tools/PageMapPlanner.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","__webpack_require__","p","PageMapPlanner","_ref","setMenuSelection","sketch","containerWidth","useWindowDimensions","fileInput","useRef","_useState","useState","Tools","Pencil","_useState2","Object","C_Users_kalle_Documents_sendou_ink_react_ui_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","tool","setTool","_useState3","_useState4","color","setColor","_useState5","_useState6","weapon","setWeapon","_useState7","_useState8","canUndo","setCanUndo","_useState9","_useState10","canRedo","setCanRedo","_useState11","_useState12","text","setText","_useState13","_useState14","bg","setBg","_useState15","_useState16","uploadError","setUploadError","_useState17","shadowWidth","shadowOffset","enableRemoveSelected","fillWithColor","fillWithBackgroundColor","drawings","controlledSize","sketchWidth","sketchHeight","stretched","stretchedX","stretchedY","originX","originY","expandTools","expandControls","expandColors","expandBack","expandImages","expandControlled","enableCopyPaste","_useState18","controlledValue","setControlledValue","localization","useSelector","state","useEffect","document","title","reef","setBackgroundFromDataUrl","tools","key","value","icon","Line","Rectangle","Circle","Select","maps","fitness","mainstage","pumptrack","academy","shipyard","towers","port","manta","dome","canal","skatepark","mart","warehouse","institute","mall","arena","pit","pitrm","camp","world","hotel","games","pavilion","download","dataUrl","extension","a","createElement","body","appendChild","style","href","concat","replace","split","today","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getDateFormatted","click","window","URL","revokeObjectURL","react__WEBPACK_IMPORTED_MODULE_1___default","semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__","negative","react_sketch__WEBPACK_IMPORTED_MODULE_2__","name","className","ref","c","lineColor","lineWidth","width","height","onChange","prev","now","semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__","primary","disabled","onClick","undo","semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__","redo","removeSelected","secondary","toDataURL","encodeURIComponent","JSON","stringify","toJSON","current","files","length","setTimeout","fileObj","reader","FileReader","onload","event","jsonObj","parse","target","result","readAsText","handleUpload","type","accept","paddingTop","semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__","columns","Column","react_color__WEBPACK_IMPORTED_MODULE_3__","onChangeComplete","newColor","hex","semantic_ui_react__WEBPACK_IMPORTED_MODULE_9__","_ref2","options","selection","semantic_ui_react__WEBPACK_IMPORTED_MODULE_10__","circular","addText","fill","fontFamily","stroke","strokeWidth","paintFirst","_ref3","clear","onBgChange","semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__","basic","pointing","_elements_Select__WEBPACK_IMPORTED_MODULE_15__","content","addImg","process","weaponDict"],"mappings":"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","file":"static/js/5.d7c3833e.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 1529;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 1560;","module.exports = __webpack_public_path__ + \"static/media/academy-sz.91729bf3.png\";","module.exports = __webpack_public_path__ + \"static/media/arena-sz.f9294191.png\";","module.exports = __webpack_public_path__ + \"static/media/camp-sz.8eb5bd84.png\";","module.exports = __webpack_public_path__ + \"static/media/canal-sz.4a2190ce.png\";","module.exports = __webpack_public_path__ + \"static/media/dome-sz.c3b1ea61.png\";","module.exports = __webpack_public_path__ + \"static/media/fitness-sz.6fb26ef7.png\";","module.exports = __webpack_public_path__ + \"static/media/games-sz.55625ff4.png\";","module.exports = __webpack_public_path__ + \"static/media/hotel-sz.93386fbb.png\";","module.exports = __webpack_public_path__ + \"static/media/institute-sz.dfd92638.png\";","module.exports = __webpack_public_path__ + \"static/media/mainstage-sz.f95da3c9.png\";","module.exports = __webpack_public_path__ + \"static/media/mall-sz.9e4d36b5.png\";","module.exports = __webpack_public_path__ + \"static/media/manta-sz.90294810.png\";","module.exports = __webpack_public_path__ + \"static/media/mart-sz.e7a5f536.png\";","module.exports = __webpack_public_path__ + \"static/media/pavilion-sz.1009ee1d.png\";","module.exports = __webpack_public_path__ + \"static/media/pit-sz.a7ff6986.png\";","module.exports = __webpack_public_path__ + \"static/media/pit-rm.e861338d.png\";","module.exports = __webpack_public_path__ + \"static/media/port-sz.551eb498.png\";","module.exports = __webpack_public_path__ + \"static/media/pumptrack-sz.096736b8.png\";","module.exports = __webpack_public_path__ + \"static/media/reef-sz.1e2cecf1.png\";","module.exports = __webpack_public_path__ + \"static/media/shipyard-sz.9b629225.png\";","module.exports = __webpack_public_path__ + \"static/media/skatepark-sz.15bfa2fd.png\";","module.exports = __webpack_public_path__ + \"static/media/towers-sz.4c6a6ff5.png\";","module.exports = __webpack_public_path__ + \"static/media/warehouse-sz.d6228a2d.png\";","module.exports = __webpack_public_path__ + \"static/media/world-sz.eacd5d68.png\";","import React, { useState, useEffect, useRef } from \"react\"\r\nimport { SketchField, Tools } from \"react-sketch\"\r\nimport { CirclePicker } from \"react-color\"\r\nimport {\r\n  Dropdown,\r\n  Button,\r\n  Icon,\r\n  Input,\r\n  Grid,\r\n  Label,\r\n  Message,\r\n  Segment\r\n} from \"semantic-ui-react\"\r\nimport { useSelector } from \"react-redux\"\r\nimport weaponDict from \"../../utils/english_internal.json\"\r\nimport useWindowDimensions from \"../hooks/useWindowDimensions\"\r\n\r\nimport Select from \"../elements/Select\"\r\nimport academy from \"../../img/plannerMaps/academy-sz.png\"\r\nimport arena from \"../../img/plannerMaps/arena-sz.png\"\r\nimport camp from \"../../img/plannerMaps/camp-sz.png\"\r\nimport canal from \"../../img/plannerMaps/canal-sz.png\"\r\nimport dome from \"../../img/plannerMaps/dome-sz.png\"\r\nimport fitness from \"../../img/plannerMaps/fitness-sz.png\"\r\nimport games from \"../../img/plannerMaps/games-sz.png\"\r\nimport hotel from \"../../img/plannerMaps/hotel-sz.png\"\r\nimport institute from \"../../img/plannerMaps/institute-sz.png\"\r\nimport mainstage from \"../../img/plannerMaps/mainstage-sz.png\"\r\nimport mall from \"../../img/plannerMaps/mall-sz.png\"\r\nimport manta from \"../../img/plannerMaps/manta-sz.png\"\r\nimport mart from \"../../img/plannerMaps/mart-sz.png\"\r\nimport pavilion from \"../../img/plannerMaps/pavilion-sz.png\"\r\nimport pit from \"../../img/plannerMaps/pit-sz.png\"\r\nimport pitrm from \"../../img/plannerMaps/pit-rm.png\"\r\nimport port from \"../../img/plannerMaps/port-sz.png\"\r\nimport pumptrack from \"../../img/plannerMaps/pumptrack-sz.png\"\r\nimport reef from \"../../img/plannerMaps/reef-sz.png\"\r\nimport shipyard from \"../../img/plannerMaps/shipyard-sz.png\"\r\nimport skatepark from \"../../img/plannerMaps/skatepark-sz.png\"\r\nimport towers from \"../../img/plannerMaps/towers-sz.png\"\r\nimport warehouse from \"../../img/plannerMaps/warehouse-sz.png\"\r\nimport world from \"../../img/plannerMaps/world-sz.png\"\r\n\r\nconst PageMapPlanner = ({ setMenuSelection }) => {\r\n  let sketch = null\r\n  const { containerWidth } = useWindowDimensions()\r\n  const defaultValue = {\r\n    shadowWidth: 0,\r\n    shadowOffset: 0,\r\n    enableRemoveSelected: false,\r\n    fillWithColor: false,\r\n    fillWithBackgroundColor: false,\r\n    drawings: [],\r\n    canUndo: false,\r\n    canRedo: false,\r\n    controlledSize: false,\r\n    sketchWidth: 600,\r\n    sketchHeight: 600,\r\n    stretched: true,\r\n    stretchedX: false,\r\n    stretchedY: false,\r\n    originX: \"left\",\r\n    originY: \"top\",\r\n    expandTools: false,\r\n    expandControls: false,\r\n    expandColors: false,\r\n    expandBack: false,\r\n    expandImages: false,\r\n    expandControlled: false,\r\n    enableCopyPaste: false\r\n  }\r\n  const fileInput = useRef(null)\r\n  const [tool, setTool] = useState(Tools.Pencil)\r\n  const [color, setColor] = useState(\"#f44336\")\r\n  const [weapon, setWeapon] = useState(\"\")\r\n  const [canUndo, setCanUndo] = useState(false)\r\n  const [canRedo, setCanRedo] = useState(false)\r\n  const [text, setText] = useState(\"\")\r\n  const [bg, setBg] = useState(null)\r\n  const [uploadError, setUploadError] = useState(null)\r\n  const [controlledValue, setControlledValue] = useState(defaultValue)\r\n  const localization = useSelector(state => state.localization)\r\n\r\n  useEffect(() => {\r\n    setMenuSelection(\"plans\")\r\n    document.title = \"Planner - sendou.ink\"\r\n  }, [setMenuSelection])\r\n\r\n  // doesn't work properly when coming back from another page - not sure why\r\n  useEffect(() => {\r\n    if (!sketch) {\r\n      return\r\n    }\r\n    setBg(reef)\r\n    sketch.setBackgroundFromDataUrl(reef)\r\n  }, [sketch])\r\n\r\n  const tools = [\r\n    {\r\n      key: 1,\r\n      text: localization[\"Pencil\"],\r\n      value: Tools.Pencil,\r\n      icon: \"pencil\"\r\n    },\r\n    {\r\n      key: 2,\r\n      text: localization[\"Line\"],\r\n      value: Tools.Line,\r\n      icon: \"window minimize outline\"\r\n    },\r\n    {\r\n      key: 3,\r\n      text: localization[\"Rectangle\"],\r\n      value: Tools.Rectangle,\r\n      icon: \"square outline\"\r\n    },\r\n    {\r\n      key: 4,\r\n      text: localization[\"Circle\"],\r\n      value: Tools.Circle,\r\n      icon: \"circle outline\"\r\n    },\r\n    {\r\n      key: 5,\r\n      text: localization[\"Select\"],\r\n      value: Tools.Select,\r\n      icon: \"object group outline\"\r\n    }\r\n  ]\r\n\r\n  const maps = [\r\n    { key: \"The Reef\", text: localization[\"The Reef\"], value: reef },\r\n    {\r\n      key: \"Musselforge Fitness\",\r\n      text: localization[\"Musselforge Fitness\"],\r\n      value: fitness\r\n    },\r\n    {\r\n      key: \"Starfish Mainstage\",\r\n      text: localization[\"Starfish Mainstage\"],\r\n      value: mainstage\r\n    },\r\n    {\r\n      key: \"Humpback Pump Track\",\r\n      text: localization[\"Humpback Pump Track\"],\r\n      value: pumptrack\r\n    },\r\n    {\r\n      key: \"Inkblot Art Academy\",\r\n      text: localization[\"Inkblot Art Academy\"],\r\n      value: academy\r\n    },\r\n    {\r\n      key: \"Sturgeon Shipyard\",\r\n      text: localization[\"Sturgeon Shipyard\"],\r\n      value: shipyard\r\n    },\r\n    { key: \"Moray Towers\", text: localization[\"Moray Towers\"], value: towers },\r\n    { key: \"Port Mackerel\", text: localization[\"Port Mackerel\"], value: port },\r\n    { key: \"Manta Maria\", text: localization[\"Manta Maria\"], value: manta },\r\n    { key: \"Kelp Dome\", text: localization[\"Kelp Dome\"], value: dome },\r\n    { key: \"Snapper Canal\", text: localization[\"Snapper Canal\"], value: canal },\r\n    {\r\n      key: \"Blackbelly Skatepark\",\r\n      text: localization[\"Blackbelly Skatepark\"],\r\n      value: skatepark\r\n    },\r\n    { key: \"MakoMart\", text: localization[\"MakoMart\"], value: mart },\r\n    {\r\n      key: \"Walleye Warehouse\",\r\n      text: localization[\"Walleye Warehouse\"],\r\n      value: warehouse\r\n    },\r\n    {\r\n      key: \"Shellendorf Institute\",\r\n      text: localization[\"Shellendorf Institute\"],\r\n      value: institute\r\n    },\r\n    { key: \"Arowana Mall\", text: localization[\"Arowana Mall\"], value: mall },\r\n    { key: \"Goby Arena\", text: localization[\"Goby Arena\"], value: arena },\r\n    { key: \"Piranha Pit\", text: localization[\"Piranha Pit\"], value: pit },\r\n    {\r\n      key: \"Piranha Pit (RM)\",\r\n      text: localization[\"Piranha Pit (RM)\"],\r\n      value: pitrm\r\n    },\r\n    {\r\n      key: \"Camp Triggerfish\",\r\n      text: localization[\"Camp Triggerfish\"],\r\n      value: camp\r\n    },\r\n    { key: \"Wahoo World\", text: localization[\"Wahoo World\"], value: world },\r\n    {\r\n      key: \"New Albacore Hotel\",\r\n      text: localization[\"New Albacore Hotel\"],\r\n      value: hotel\r\n    },\r\n    { key: \"Ancho-V Games\", text: localization[\"Ancho-V Games\"], value: games },\r\n    {\r\n      key: \"Skipper Pavilion\",\r\n      text: localization[\"Skipper Pavilion\"],\r\n      value: pavilion\r\n    }\r\n  ]\r\n\r\n  const addImageToSketch = () => {\r\n    sketch.addImg(\r\n      process.env.PUBLIC_URL + `/wpnMedium/Wst_${weaponDict[weapon]}.png`\r\n    )\r\n    setTool(Tools.Select)\r\n  }\r\n\r\n  const addTextToSketch = () => {\r\n    sketch.addText(text, {\r\n      fill: color,\r\n      fontFamily: \"lato\",\r\n      stroke: \"#000000\",\r\n      strokeWidth: 3,\r\n      paintFirst: \"stroke\"\r\n    })\r\n    setTool(Tools.Select)\r\n  }\r\n\r\n  const undo = () => {\r\n    sketch.undo()\r\n    setCanUndo(sketch.canUndo())\r\n    setCanRedo(sketch.canRedo())\r\n  }\r\n\r\n  const redo = () => {\r\n    sketch.redo()\r\n    setCanUndo(sketch.canUndo())\r\n    setCanRedo(sketch.canRedo())\r\n  }\r\n\r\n  const removeSelected = () => {\r\n    sketch.removeSelected()\r\n  }\r\n\r\n  const onSketchChange = () => {\r\n    let prev = canUndo\r\n    let now = sketch.canUndo()\r\n    if (prev !== now) {\r\n      setCanUndo(now)\r\n    }\r\n  }\r\n\r\n  const getDateFormatted = () => {\r\n    const today = new Date()\r\n    const date =\r\n      today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate()\r\n    const time =\r\n      today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds()\r\n    return date + \" \" + time\r\n  }\r\n\r\n  const download = (dataUrl, extension) => {\r\n    let a = document.createElement(\"a\")\r\n    document.body.appendChild(a)\r\n    a.style = \"display: none\"\r\n    a.href = dataUrl\r\n    a.download = `${\r\n      bg.replace(\"/static/media/\", \"\").split(\"-\")[0]\r\n    } plans ${getDateFormatted()}.${extension}`\r\n    a.click()\r\n    window.URL.revokeObjectURL(dataUrl)\r\n  }\r\n\r\n  const handleUpload = () => {\r\n    if (fileInput.current.files.length === 0) {\r\n      setUploadError(\"Upload file\")\r\n      setTimeout(() => setUploadError(null), 5000)\r\n      return\r\n    }\r\n    const fileObj = fileInput.current.files[0]\r\n    const reader = new FileReader()\r\n    reader.onload = function(event) {\r\n      const jsonObj = JSON.parse(event.target.result)\r\n      setControlledValue(jsonObj)\r\n    }\r\n\r\n    reader.readAsText(fileObj)\r\n  }\r\n\r\n  const onBgChange = value => {\r\n    sketch.clear()\r\n    setBg(value)\r\n    setCanUndo(false)\r\n    sketch.setBackgroundFromDataUrl(value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {containerWidth < 1127 && (\r\n        <Message negative>\r\n          Unfortunately this tool isn't designed for narrow screens but you can\r\n          still give it a go.\r\n        </Message>\r\n      )}\r\n      <SketchField\r\n        name=\"sketch\"\r\n        className=\"canvas-area\"\r\n        ref={c => (sketch = c)}\r\n        lineColor={color}\r\n        lineWidth={5}\r\n        width={1127}\r\n        height={634}\r\n        /*width={\r\n        this.state.controlledSize ? this.state.sketchWidth : null\r\n      }\r\n      height={\r\n        this.state.controlledSize ? this.state.sketchHeight : null\r\n      }*/\r\n        /*defaultValue={dataJson}*/\r\n        value={controlledValue}\r\n        /*forceValue*/\r\n        onChange={onSketchChange}\r\n        tool={tool}\r\n      />\r\n      <Segment>\r\n        <Button primary icon disabled={!canUndo} onClick={() => undo()}>\r\n          <Icon name=\"undo\" /> {localization[\"Undo\"]}\r\n        </Button>\r\n        <Button primary icon disabled={!canRedo} onClick={() => redo()}>\r\n          <Icon name=\"redo\" /> {localization[\"Redo\"]}\r\n        </Button>\r\n        <Button\r\n          primary\r\n          icon\r\n          disabled={tool !== Tools.Select}\r\n          onClick={() => removeSelected()}\r\n        >\r\n          <Icon name=\"trash\" /> {localization[\"Delete selected\"]}\r\n        </Button>\r\n        <Button\r\n          secondary\r\n          icon\r\n          onClick={() => download(sketch.toDataURL(), \"png\")}\r\n        >\r\n          <Icon name=\"download\" /> {localization[\"Download as .png\"]}\r\n        </Button>\r\n        <Button\r\n          secondary\r\n          icon\r\n          onClick={() =>\r\n            download(\r\n              \"data:text/json;charset=utf-8,\" +\r\n                encodeURIComponent(JSON.stringify(sketch.toJSON())),\r\n              \"json\"\r\n            )\r\n          }\r\n        >\r\n          <Icon name=\"cloud download\" /> {localization[\"Download as .json\"]}\r\n        </Button>\r\n        <Button secondary icon onClick={() => handleUpload()}>\r\n          <Icon name=\"cloud upload\" /> {localization[\"Load from .json\"]}\r\n        </Button>\r\n        <input type=\"file\" accept=\".json\" ref={fileInput} />\r\n        {uploadError && <span style={{ color: \"red\" }}>{uploadError}</span>}\r\n        <div style={{ paddingTop: \"10px\" }}>\r\n          <Grid columns={3}>\r\n            <Grid.Column>\r\n              <CirclePicker\r\n                color={color}\r\n                onChangeComplete={newColor => setColor(newColor.hex)}\r\n              />\r\n            </Grid.Column>\r\n            <Grid.Column>\r\n              <h3>{localization[\"Tools\"]}</h3>\r\n              <Dropdown\r\n                onChange={(e, { value }) => setTool(value)}\r\n                options={tools}\r\n                selection\r\n                value={tool}\r\n              />\r\n            </Grid.Column>\r\n            <Grid.Column>\r\n              <h3>{localization[\"Add text\"]}</h3>\r\n              <Input value={text} onChange={e => setText(e.target.value)} />\r\n              <div style={{ paddingTop: \"7px\" }}>\r\n                <Button\r\n                  icon=\"plus\"\r\n                  circular\r\n                  onClick={() => addTextToSketch()}\r\n                />\r\n              </div>\r\n            </Grid.Column>\r\n          </Grid>\r\n        </div>\r\n        <h3>{localization[\"Choose the map\"]}</h3>\r\n        <Dropdown\r\n          onChange={(e, { value }) => onBgChange(value)}\r\n          options={maps}\r\n          selection\r\n          value={bg}\r\n        />\r\n        <Label basic color=\"red\" pointing=\"left\">\r\n          {\r\n            localization[\r\n              \"Please note that changing the map also clears all the drawings\"\r\n            ]\r\n          }\r\n        </Label>\r\n        <h3>{localization[\"Choose a weapon to add\"]}</h3>\r\n        <Select content=\"MAINWEAPONS\" value={weapon} onChange={setWeapon} />\r\n        <div style={{ paddingTop: \"7px\" }}>\r\n          <Button icon=\"plus\" circular onClick={() => addImageToSketch()} />\r\n        </div>\r\n      </Segment>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PageMapPlanner\r\n"],"sourceRoot":""}